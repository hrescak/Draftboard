{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\n// Simple middleware that redirects to sign-in if no auth cookie is present\n// This avoids importing server-only code in edge runtime\nexport function middleware(request: NextRequest) {\n  const authCookie = request.cookies.get(\"authjs.session-token\") ||\n                     request.cookies.get(\"__Secure-authjs.session-token\");\n\n  // Allow auth pages and API routes\n  const pathname = request.nextUrl.pathname;\n  const isAuthPage = pathname.startsWith(\"/sign-in\") || pathname.startsWith(\"/sign-up\");\n  const isApiRoute = pathname.startsWith(\"/api/\");\n  const isStaticFile = pathname.startsWith(\"/_next/\") ||\n                       pathname.startsWith(\"/favicon.ico\");\n\n  if (isAuthPage || isApiRoute || isStaticFile) {\n    return NextResponse.next();\n  }\n\n  // Redirect to sign-in if no auth cookie\n  if (!authCookie) {\n    const signInUrl = new URL(\"/sign-in\", request.url);\n    signInUrl.searchParams.set(\"callbackUrl\", pathname);\n    return NextResponse.redirect(signInUrl);\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */\n    \"/((?!_next/static|_next/image|favicon.ico).*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAKO,SAAS,WAAW,OAAoB;IAC7C,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC,2BACpB,QAAQ,OAAO,CAAC,GAAG,CAAC;IAEvC,kCAAkC;IAClC,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IACzC,MAAM,aAAa,SAAS,UAAU,CAAC,eAAe,SAAS,UAAU,CAAC;IAC1E,MAAM,aAAa,SAAS,UAAU,CAAC;IACvC,MAAM,eAAe,SAAS,UAAU,CAAC,cACpB,SAAS,UAAU,CAAC;IAEzC,IAAI,cAAc,cAAc,cAAc;QAC5C,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,wCAAwC;IACxC,IAAI,CAAC,YAAY;QACf,MAAM,YAAY,IAAI,IAAI,YAAY,QAAQ,GAAG;QACjD,UAAU,YAAY,CAAC,GAAG,CAAC,eAAe;QAC1C,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;KAKC,GACD;KACD;AACH"}}]
}