{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"~/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"~/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6FACA;QAED,GAAG,KAAK;;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,kYACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"~/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport { cn } from \"~/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverAnchor = PopoverPrimitive.Anchor;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,+BAAiB,2KAAgB,MAGrC,QAA4D;QAA3D,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO;yBAC1D,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport { cn } from \"~/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,kBAAkB,kLAAyB;AAEjD,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,+BAAiB,2KAAgB,MAGrC,QAA0C;QAAzC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO;yBACxC,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,KAAK;YACL,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,qXACA;YAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/reactions/ReactionButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"~/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"~/components/ui/popover\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"~/components/ui/tooltip\";\nimport { api } from \"~/lib/trpc/client\";\nimport { Heart, Sparkles, ThumbsUp, SmilePlus } from \"lucide-react\";\nimport { cn } from \"~/lib/utils\";\n\ninterface ReactionButtonProps {\n  postId?: string;\n  commentId?: string;\n  reactions: Array<{\n    type: string;\n    userId: string;\n  }>;\n  count: number;\n}\n\nconst DEFAULT_REACTIONS = [\n  { type: \"like\", icon: ThumbsUp, label: \"Like\" },\n  { type: \"wow\", icon: Sparkles, label: \"Wow\" },\n  { type: \"cool\", icon: Heart, label: \"Cool\" },\n];\n\nexport function ReactionButton({\n  postId,\n  commentId,\n  reactions,\n  count,\n}: ReactionButtonProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const utils = api.useUtils();\n\n  const toggleMutation = api.reaction.toggle.useMutation({\n    onSuccess: () => {\n      if (postId) {\n        utils.post.feed.invalidate();\n        utils.post.getById.invalidate({ id: postId });\n      }\n      if (commentId) {\n        utils.comment.byPost.invalidate();\n      }\n    },\n  });\n\n  // Group reactions by type\n  const reactionCounts = reactions.reduce(\n    (acc, r) => {\n      acc[r.type] = (acc[r.type] || 0) + 1;\n      return acc;\n    },\n    {} as Record<string, number>\n  );\n\n  const handleReaction = (type: string) => {\n    toggleMutation.mutate({ type, postId, commentId });\n    setIsOpen(false);\n  };\n\n  const hasReactions = count > 0;\n\n  return (\n    <TooltipProvider>\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className={cn(\n              \"gap-2 text-muted-foreground\",\n              hasReactions && \"text-primary\"\n            )}\n          >\n            {hasReactions ? (\n              <div className=\"flex -space-x-1\">\n                {Object.keys(reactionCounts)\n                  .slice(0, 3)\n                  .map((type) => {\n                    const reaction = DEFAULT_REACTIONS.find((r) => r.type === type);\n                    if (!reaction) return null;\n                    const Icon = reaction.icon;\n                    return (\n                      <div\n                        key={type}\n                        className=\"flex h-5 w-5 items-center justify-center rounded-full bg-primary/10 text-primary\"\n                      >\n                        <Icon className=\"h-3 w-3\" />\n                      </div>\n                    );\n                  })}\n              </div>\n            ) : (\n              <SmilePlus className=\"h-4 w-4\" />\n            )}\n            {count > 0 && <span>{count}</span>}\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-auto p-2\" align=\"start\">\n          <div className=\"flex gap-1\">\n            {DEFAULT_REACTIONS.map((reaction) => {\n              const Icon = reaction.icon;\n              const userReacted = reactions.some(\n                (r) => r.type === reaction.type\n              );\n              const reactionCount = reactionCounts[reaction.type] || 0;\n\n              return (\n                <Tooltip key={reaction.type}>\n                  <TooltipTrigger asChild>\n                    <button\n                      onClick={() => handleReaction(reaction.type)}\n                      className={cn(\n                        \"flex h-10 w-10 items-center justify-center rounded-full transition-all hover:scale-110 hover:bg-muted\",\n                        userReacted && \"bg-primary/10 text-primary\"\n                      )}\n                    >\n                      <Icon className=\"h-5 w-5\" />\n                    </button>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>\n                      {reaction.label}\n                      {reactionCount > 0 && ` (${reactionCount})`}\n                    </p>\n                  </TooltipContent>\n                </Tooltip>\n              );\n            })}\n          </div>\n        </PopoverContent>\n      </Popover>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/feed/AttachmentCarousel.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { Play, FileIcon, Image as ImageIcon, Loader2 } from \"lucide-react\";\nimport { api } from \"~/lib/trpc/client\";\n\ninterface Attachment {\n  id: string;\n  type: string;\n  url: string;\n  filename: string;\n  thumbnailUrl: string | null;\n}\n\ninterface AttachmentCarouselProps {\n  attachments: Attachment[];\n  postId: string;\n  totalCount: number;\n}\n\n// Extract R2 key from URL\nfunction extractR2Key(url: string): string | null {\n  const match = url.match(/uploads\\/[^\\/]+\\/[^\\/]+$/);\n  return match ? match[0] : null;\n}\n\nfunction getAttachmentIcon(type: string) {\n  switch (type) {\n    case \"IMAGE\":\n      return <ImageIcon className=\"h-8 w-8\" />;\n    case \"VIDEO\":\n    case \"LOOM\":\n      return <Play className=\"h-8 w-8\" />;\n    case \"FIGMA\":\n      return (\n        <svg viewBox=\"0 0 38 57\" className=\"h-8 w-8\" fill=\"none\">\n          <path d=\"M19 28.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0z\" fill=\"#1ABCFE\" />\n          <path d=\"M0 47.5A9.5 9.5 0 0 1 9.5 38H19v9.5a9.5 9.5 0 1 1-19 0z\" fill=\"#0ACF83\" />\n          <path d=\"M19 0v19h9.5a9.5 9.5 0 1 0 0-19H19z\" fill=\"#FF7262\" />\n          <path d=\"M0 9.5A9.5 9.5 0 0 0 9.5 19H19V0H9.5A9.5 9.5 0 0 0 0 9.5z\" fill=\"#F24E1E\" />\n          <path d=\"M0 28.5A9.5 9.5 0 0 0 9.5 38H19V19H9.5A9.5 9.5 0 0 0 0 28.5z\" fill=\"#A259FF\" />\n        </svg>\n      );\n    default:\n      return <FileIcon className=\"h-8 w-8\" />;\n  }\n}\n\nfunction SignedImage({ url, filename, className }: { url: string; filename: string; className?: string }) {\n  const r2Key = extractR2Key(url);\n  const { data: signedUrlData, isLoading } = api.upload.getDownloadUrl.useQuery(\n    { key: r2Key! },\n    {\n      enabled: !!r2Key,\n      staleTime: 30 * 60 * 1000,\n      refetchOnWindowFocus: false,\n    }\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"flex h-full w-full items-center justify-center bg-muted\">\n        <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n      </div>\n    );\n  }\n\n  return (\n    <img\n      src={signedUrlData?.url || url}\n      alt={filename}\n      className={className}\n    />\n  );\n}\n\nexport function AttachmentCarousel({\n  attachments,\n  postId,\n  totalCount,\n}: AttachmentCarouselProps) {\n  const visibleAttachments = attachments.slice(0, 2);\n  const remaining = totalCount - 2;\n\n  return (\n    <div className=\"flex gap-2\">\n      {visibleAttachments.map((attachment, index) => (\n        <Link\n          key={attachment.id}\n          href={`/post/${postId}#attachment-${attachment.id}`}\n          className=\"group relative flex-1 overflow-hidden rounded-lg\"\n        >\n          {attachment.type === \"IMAGE\" ? (\n            <div className=\"relative aspect-video w-full overflow-hidden bg-muted\">\n              <SignedImage\n                url={attachment.thumbnailUrl || attachment.url}\n                filename={attachment.filename}\n                className=\"h-full w-full object-cover transition-transform group-hover:scale-105\"\n              />\n              {index === 1 && remaining > 0 && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 text-white\">\n                  <span className=\"text-2xl font-semibold\">+{remaining}</span>\n                </div>\n              )}\n            </div>\n          ) : attachment.type === \"VIDEO\" ? (\n            <div className=\"relative aspect-video w-full overflow-hidden bg-muted\">\n              {attachment.thumbnailUrl ? (\n                <SignedImage\n                  url={attachment.thumbnailUrl}\n                  filename={attachment.filename}\n                  className=\"h-full w-full object-cover\"\n                />\n              ) : (\n                <div className=\"flex h-full items-center justify-center\">\n                  <Play className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n              )}\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/20\">\n                <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-white/90\">\n                  <Play className=\"h-5 w-5 text-foreground\" />\n                </div>\n              </div>\n              {index === 1 && remaining > 0 && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 text-white\">\n                  <span className=\"text-2xl font-semibold\">+{remaining}</span>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"relative flex aspect-video w-full items-center justify-center bg-muted\">\n              <div className=\"flex flex-col items-center gap-2 text-muted-foreground\">\n                {getAttachmentIcon(attachment.type)}\n                <span className=\"max-w-[80%] truncate text-sm\">\n                  {attachment.filename}\n                </span>\n              </div>\n              {index === 1 && remaining > 0 && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 text-white\">\n                  <span className=\"text-2xl font-semibold\">+{remaining}</span>\n                </div>\n              )}\n            </div>\n          )}\n        </Link>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/feed/PostCard.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"~/components/ui/avatar\";\nimport { Button } from \"~/components/ui/button\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"~/components/ui/card\";\nimport { Badge } from \"~/components/ui/badge\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"~/components/ui/dropdown-menu\";\nimport {\n  formatRelativeTime,\n  getInitials,\n  truncateText,\n} from \"~/lib/utils\";\nimport { MessageCircle, ExternalLink, ChevronDown, Image as ImageIcon, Play, FileIcon } from \"lucide-react\";\nimport { ReactionButton } from \"~/components/reactions/ReactionButton\";\nimport { AttachmentCarousel } from \"./AttachmentCarousel\";\n\ninterface PostCardProps {\n  post: {\n    id: string;\n    title: string | null;\n    content: unknown;\n    liveUrl: string | null;\n    createdAt: Date;\n    author: {\n      id: string;\n      displayName: string;\n      avatarUrl: string | null;\n    };\n    attachments: Array<{\n      id: string;\n      type: string;\n      url: string;\n      filename: string;\n      thumbnailUrl: string | null;\n    }>;\n    projects: Array<{\n      project: {\n        id: string;\n        name: string;\n      };\n    }>;\n    reactions: Array<{\n      type: string;\n      userId: string;\n    }>;\n    _count: {\n      comments: number;\n      reactions: number;\n      attachments: number;\n    };\n  };\n}\n\nfunction extractPlainText(content: unknown): string {\n  if (!content || typeof content !== \"object\") return \"\";\n\n  const root = (content as Record<string, unknown>).root;\n  if (!root || typeof root !== \"object\") return \"\";\n\n  const children = (root as Record<string, unknown>).children;\n  if (!Array.isArray(children)) return \"\";\n\n  const texts: string[] = [];\n\n  function extractFromNode(node: unknown): void {\n    if (!node || typeof node !== \"object\") return;\n\n    const nodeObj = node as Record<string, unknown>;\n\n    if (nodeObj.type === \"text\" && typeof nodeObj.text === \"string\") {\n      texts.push(nodeObj.text);\n    }\n\n    if (Array.isArray(nodeObj.children)) {\n      nodeObj.children.forEach(extractFromNode);\n    }\n  }\n\n  children.forEach(extractFromNode);\n  return texts.join(\" \");\n}\n\nexport function PostCard({ post }: PostCardProps) {\n  const plainText = extractPlainText(post.content);\n  const truncatedContent = truncateText(plainText, 300);\n  const projectCount = post.projects.length;\n\n  return (\n    <Card className=\"overflow-hidden transition-shadow hover:shadow-md\">\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Link href={`/user/${post.author.id}`}>\n              <Avatar className=\"h-10 w-10\">\n                <AvatarImage src={post.author.avatarUrl ?? undefined} />\n                <AvatarFallback>\n                  {getInitials(post.author.displayName)}\n                </AvatarFallback>\n              </Avatar>\n            </Link>\n            <div className=\"flex flex-col\">\n              <div className=\"flex items-center gap-2 text-sm\">\n                <Link\n                  href={`/user/${post.author.id}`}\n                  className=\"font-medium hover:underline\"\n                >\n                  {post.author.displayName}\n                </Link>\n                <span className=\"text-muted-foreground\">·</span>\n                <Link\n                  href={`/post/${post.id}`}\n                  className=\"text-muted-foreground hover:underline\"\n                >\n                  {formatRelativeTime(new Date(post.createdAt))}\n                </Link>\n                {projectCount > 0 && (\n                  <>\n                    <span className=\"text-muted-foreground\">·</span>\n                    {projectCount === 1 ? (\n                      <Link\n                        href={`/projects/${post.projects[0]?.project.id}`}\n                        className=\"text-muted-foreground hover:text-foreground hover:underline\"\n                      >\n                        in {post.projects[0]?.project.name}\n                      </Link>\n                    ) : (\n                      <DropdownMenu>\n                        <DropdownMenuTrigger className=\"flex items-center gap-1 text-muted-foreground hover:text-foreground\">\n                          in {projectCount} projects\n                          <ChevronDown className=\"h-3 w-3\" />\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent>\n                          {post.projects.map(({ project }) => (\n                            <DropdownMenuItem key={project.id} asChild>\n                              <Link href={`/projects/${project.id}`}>\n                                {project.name}\n                              </Link>\n                            </DropdownMenuItem>\n                          ))}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"pb-3\">\n        <Link href={`/post/${post.id}`} className=\"block\">\n          {post.title && (\n            <h2 className=\"mb-2 text-lg font-semibold hover:underline\">\n              {post.title}\n            </h2>\n          )}\n          {truncatedContent && (\n            <p className=\"text-sm text-muted-foreground line-clamp-3\">\n              {truncatedContent}\n            </p>\n          )}\n        </Link>\n\n        {post.attachments.length > 0 && (\n          <div className=\"mt-4\">\n            <AttachmentCarousel\n              attachments={post.attachments}\n              postId={post.id}\n              totalCount={post._count.attachments}\n            />\n          </div>\n        )}\n      </CardContent>\n\n      <CardFooter className=\"border-t pt-3\">\n        <div className=\"flex w-full items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <ReactionButton\n              postId={post.id}\n              reactions={post.reactions}\n              count={post._count.reactions}\n            />\n            <Link href={`/post/${post.id}#comments`}>\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2 text-muted-foreground\">\n                <MessageCircle className=\"h-4 w-4\" />\n                {post._count.comments > 0 && post._count.comments}\n              </Button>\n            </Link>\n          </div>\n          {post.liveUrl && (\n            <Button variant=\"outline\" size=\"sm\" asChild>\n              <a\n                href={post.liveUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"gap-2\"\n              >\n                View live\n                <ExternalLink className=\"h-3.5 w-3.5\" />\n              </a>\n            </Button>\n          )}\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1300, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/feed/GridView.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { Play, FileIcon, Image as ImageIcon, Loader2 } from \"lucide-react\";\nimport { formatRelativeTime, getInitials } from \"~/lib/utils\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"~/components/ui/avatar\";\nimport { api } from \"~/lib/trpc/client\";\n\ninterface Post {\n  id: string;\n  title: string | null;\n  createdAt: Date;\n  author: {\n    id: string;\n    displayName: string;\n    avatarUrl: string | null;\n  };\n  attachments: Array<{\n    id: string;\n    type: string;\n    url: string;\n    filename: string;\n    thumbnailUrl: string | null;\n  }>;\n  _count: {\n    attachments: number;\n  };\n}\n\ninterface GridViewProps {\n  posts: Post[];\n}\n\n// Extract R2 key from URL\nfunction extractR2Key(url: string): string | null {\n  const match = url.match(/uploads\\/[^\\/]+\\/[^\\/]+$/);\n  return match ? match[0] : null;\n}\n\nfunction SignedImage({ url, alt, className }: { url: string; alt: string; className?: string }) {\n  const r2Key = extractR2Key(url);\n  const { data: signedUrlData, isLoading } = api.upload.getDownloadUrl.useQuery(\n    { key: r2Key! },\n    {\n      enabled: !!r2Key,\n      staleTime: 30 * 60 * 1000,\n      refetchOnWindowFocus: false,\n    }\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"flex h-full w-full items-center justify-center bg-muted\">\n        <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n      </div>\n    );\n  }\n\n  return (\n    <img\n      src={signedUrlData?.url || url}\n      alt={alt}\n      className={className}\n    />\n  );\n}\n\nexport function GridView({ posts }: GridViewProps) {\n  // Filter posts with attachments for grid view\n  const postsWithAttachments = posts.filter(\n    (post) => post.attachments.length > 0\n  );\n\n  if (postsWithAttachments.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-20 text-center\">\n        <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted\">\n          <ImageIcon className=\"h-8 w-8 text-muted-foreground\" />\n        </div>\n        <h3 className=\"mb-2 text-lg font-medium\">No visual posts yet</h3>\n        <p className=\"text-sm text-muted-foreground\">\n          Posts with images and attachments will appear here\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4\">\n      {postsWithAttachments.map((post) => {\n        const firstAttachment = post.attachments[0];\n        if (!firstAttachment) return null;\n\n        return (\n          <Link\n            key={post.id}\n            href={`/post/${post.id}`}\n            className=\"group overflow-hidden rounded-lg border bg-card transition-shadow hover:shadow-md\"\n          >\n            {/* Image/media container */}\n            <div className=\"relative aspect-square overflow-hidden bg-muted\">\n              {firstAttachment.type === \"IMAGE\" ? (\n                <SignedImage\n                  url={firstAttachment.thumbnailUrl || firstAttachment.url}\n                  alt={post.title || firstAttachment.filename}\n                  className=\"h-full w-full object-cover transition-transform group-hover:scale-105\"\n                />\n              ) : firstAttachment.type === \"VIDEO\" ? (\n                <>\n                  {firstAttachment.thumbnailUrl ? (\n                    <SignedImage\n                      url={firstAttachment.thumbnailUrl}\n                      alt={post.title || firstAttachment.filename}\n                      className=\"h-full w-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"flex h-full items-center justify-center\">\n                      <Play className=\"h-12 w-12 text-muted-foreground\" />\n                    </div>\n                  )}\n                  <div className=\"absolute inset-0 flex items-center justify-center bg-black/20\">\n                    <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-white/90\">\n                      <Play className=\"h-5 w-5 text-foreground\" />\n                    </div>\n                  </div>\n                </>\n              ) : firstAttachment.type === \"FIGMA\" ? (\n                <div className=\"flex h-full flex-col items-center justify-center gap-2 bg-[#1e1e1e]\">\n                  <svg viewBox=\"0 0 38 57\" className=\"h-12 w-12\" fill=\"none\">\n                    <path d=\"M19 28.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0z\" fill=\"#1ABCFE\" />\n                    <path d=\"M0 47.5A9.5 9.5 0 0 1 9.5 38H19v9.5a9.5 9.5 0 1 1-19 0z\" fill=\"#0ACF83\" />\n                    <path d=\"M19 0v19h9.5a9.5 9.5 0 1 0 0-19H19z\" fill=\"#FF7262\" />\n                    <path d=\"M0 9.5A9.5 9.5 0 0 0 9.5 19H19V0H9.5A9.5 9.5 0 0 0 0 9.5z\" fill=\"#F24E1E\" />\n                    <path d=\"M0 28.5A9.5 9.5 0 0 0 9.5 38H19V19H9.5A9.5 9.5 0 0 0 0 28.5z\" fill=\"#A259FF\" />\n                  </svg>\n                </div>\n              ) : (\n                <div className=\"flex h-full flex-col items-center justify-center gap-2\">\n                  <FileIcon className=\"h-12 w-12 text-muted-foreground\" />\n                  <span className=\"max-w-[80%] truncate text-xs text-muted-foreground\">\n                    {firstAttachment.filename}\n                  </span>\n                </div>\n              )}\n\n              {/* Attachment count badge */}\n              {post._count.attachments > 1 && (\n                <div className=\"absolute right-2 top-2 rounded-full bg-black/60 px-2 py-0.5 text-xs text-white\">\n                  {post._count.attachments}\n                </div>\n              )}\n            </div>\n\n            {/* Card footer with author info and title */}\n            <div className=\"p-3\">\n              {post.title && (\n                <p className=\"mb-2 truncate text-sm font-medium\">\n                  {post.title}\n                </p>\n              )}\n              <div className=\"flex items-center gap-2\">\n                <Avatar className=\"h-6 w-6\">\n                  <AvatarImage src={post.author.avatarUrl ?? undefined} />\n                  <AvatarFallback className=\"text-xs\">\n                    {getInitials(post.author.displayName)}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"min-w-0 flex-1\">\n                  <p className=\"truncate text-xs text-muted-foreground\">\n                    {post.author.displayName} · {formatRelativeTime(new Date(post.createdAt))}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </Link>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1665, "column": 0}, "map": {"version":3,"sources":["file:///Users/matejhrescak/src/draftboard/src/components/projects/ProjectDetail.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport Link from \"next/link\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"~/components/ui/avatar\";\nimport { Button } from \"~/components/ui/button\";\nimport { Badge } from \"~/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"~/components/ui/tabs\";\nimport { api } from \"~/lib/trpc/client\";\nimport { PostCard } from \"~/components/feed/PostCard\";\nimport { GridView } from \"~/components/feed/GridView\";\nimport { formatRelativeTime, getInitials } from \"~/lib/utils\";\nimport { ExternalLink, Users, List, LayoutGrid, Loader2, FolderKanban } from \"lucide-react\";\n\ninterface ProjectDetailProps {\n  project: {\n    id: string;\n    name: string;\n    description: unknown;\n    coverUrl: string | null;\n    createdAt: Date;\n    urls: Array<{\n      id: string;\n      title: string;\n      url: string;\n    }>;\n    members: Array<{\n      user: {\n        id: string;\n        displayName: string;\n        avatarUrl: string | null;\n      };\n    }>;\n    _count: {\n      posts: number;\n    };\n  };\n}\n\nexport function ProjectDetail({ project }: ProjectDetailProps) {\n  const [viewMode, setViewMode] = useState<\"feed\" | \"grid\">(\"feed\");\n  const loadMoreRef = useRef<HTMLDivElement>(null);\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n  } = api.post.byProject.useInfiniteQuery(\n    { projectId: project.id, limit: 10 },\n    {\n      getNextPageParam: (lastPage) => lastPage.nextCursor,\n    }\n  );\n\n  const handleObserver = useCallback(\n    (entries: IntersectionObserverEntry[]) => {\n      const [target] = entries;\n      if (target?.isIntersecting && hasNextPage && !isFetchingNextPage) {\n        fetchNextPage();\n      }\n    },\n    [fetchNextPage, hasNextPage, isFetchingNextPage]\n  );\n\n  useEffect(() => {\n    const element = loadMoreRef.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(handleObserver, {\n      root: null,\n      rootMargin: \"100px\",\n      threshold: 0,\n    });\n\n    observer.observe(element);\n    return () => observer.disconnect();\n  }, [handleObserver]);\n\n  const posts = data?.pages.flatMap((page) => page.posts) ?? [];\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <header className=\"space-y-6\">\n        {project.coverUrl && (\n          <div className=\"aspect-[3/1] overflow-hidden rounded-xl\">\n            <img\n              src={project.coverUrl}\n              alt={project.name}\n              className=\"h-full w-full object-cover\"\n            />\n          </div>\n        )}\n\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-center gap-4\">\n            {!project.coverUrl && (\n              <div className=\"flex h-16 w-16 items-center justify-center rounded-xl bg-primary/10\">\n                <FolderKanban className=\"h-8 w-8 text-primary\" />\n              </div>\n            )}\n            <div>\n              <h1 className=\"text-3xl font-bold\">{project.name}</h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Created {formatRelativeTime(new Date(project.createdAt))} ·{\" \"}\n                {project._count.posts} posts\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Links */}\n        {project.urls.length > 0 && (\n          <div className=\"flex flex-wrap gap-2\">\n            {project.urls.map((url) => (\n              <a\n                key={url.id}\n                href={url.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <Badge variant=\"secondary\" className=\"gap-1\">\n                  {url.title}\n                  <ExternalLink className=\"h-3 w-3\" />\n                </Badge>\n              </a>\n            ))}\n          </div>\n        )}\n\n        {/* Members */}\n        {project.members.length > 0 && (\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n            <div className=\"flex -space-x-2\">\n              {project.members.slice(0, 5).map(({ user }) => (\n                <Link key={user.id} href={`/user/${user.id}`}>\n                  <Avatar className=\"h-8 w-8 border-2 border-background\">\n                    <AvatarImage src={user.avatarUrl ?? undefined} />\n                    <AvatarFallback className=\"text-xs\">\n                      {getInitials(user.displayName)}\n                    </AvatarFallback>\n                  </Avatar>\n                </Link>\n              ))}\n            </div>\n            {project.members.length > 5 && (\n              <span className=\"text-sm text-muted-foreground\">\n                +{project.members.length - 5} more\n              </span>\n            )}\n          </div>\n        )}\n      </header>\n\n      {/* Posts */}\n      <section className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold\">Posts</h2>\n          <Tabs value={viewMode} onValueChange={(v) => setViewMode(v as \"feed\" | \"grid\")}>\n            <TabsList>\n              <TabsTrigger value=\"feed\" className=\"gap-2\">\n                <List className=\"h-4 w-4\" />\n              </TabsTrigger>\n              <TabsTrigger value=\"grid\" className=\"gap-2\">\n                <LayoutGrid className=\"h-4 w-4\" />\n              </TabsTrigger>\n            </TabsList>\n          </Tabs>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex justify-center py-8\">\n            <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n          </div>\n        ) : posts.length === 0 ? (\n          <p className=\"py-8 text-center text-sm text-muted-foreground\">\n            No posts in this project yet\n          </p>\n        ) : viewMode === \"feed\" ? (\n          <div className=\"space-y-4\">\n            {posts.map((post) => (\n              <PostCard key={post.id} post={post} />\n            ))}\n          </div>\n        ) : (\n          <GridView posts={posts} />\n        )}\n\n        <div ref={loadMoreRef} className=\"flex justify-center py-4\">\n          {isFetchingNextPage && (\n            <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}